document.getElementById("notifyBtn").addEventListener("click", () => {
    Notification.requestPermission().then(permission => {
        if (permission === "granted") {
            messaging.getToken({ vapidKey: "Ø¶Ø¹-Ù…ÙØªØ§Ø­-VAPID-Ù‡Ù†Ø§" }).then((token) => {
                console.log("ðŸ”‘ ØªÙˆÙƒÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:", token);
                document.getElementById("message").innerText = "ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª âœ…";
            }).catch((err) => {
                console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆÙƒÙ†:", err);
            });
        } else {
            alert("âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø©!");
        }
    });
});

messaging.onMessage((payload) => {
    console.log("ðŸ“© Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©:", payload);
    new Notification(payload.notification.title, {
        body: payload.notification.body,
        icon: payload.notification.icon
    });
});
