<!DOCTYPE html><html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ØªØ·Ø¨ÙŠÙ‚Ùƒ Ù…Ø¹ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Firebase</title><!-- ØªØ­Ù…ÙŠÙ„ Ø£Ø­Ø¯Ø« Ù…ÙƒØªØ¨Ø§Øª Firebase -->
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
    import { getMessaging, getToken, onMessage } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-messaging.js";
    
    // ØªÙ‡ÙŠØ¦Ø© Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyAJzK9G2MJieXHmeeHUBdULdDt8NwyxyKQ",
        authDomain: "khedma-fd534.firebaseapp.com",
        projectId: "khedma-fd534",
        storageBucket: "khedma-fd534.appspot.com",
        messagingSenderId: "186556101962",
        appId: "1:186556101962:web:3edb278b50948378f83db3",
        measurementId: "G-F6C0180ZDS"
    };
    
    const app = initializeApp(firebaseConfig);
    const messaging = getMessaging(app);
    console.log("âœ… Firebase ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‡Ø§ Ø¨Ù†Ø¬Ø§Ø­");

    document.getElementById("notifyBtn").addEventListener("click", () => {
        Notification.requestPermission().then(permission => {
            if (permission === "granted") {
                getToken(messaging, { vapidKey: "YOUR_VAPID_KEY" }).then(token => {
                    console.log("ğŸ”‘ Token:", token);
                    document.getElementById("status").innerText = "ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª!";
                }).catch(err => {
                    console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆÙƒÙ†", err);
                });
            } else {
                document.getElementById("status").innerText = "ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª!";
            }
        });
    });

    // Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø£Ø«Ù†Ø§Ø¡ Ø¹Ù…Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹
    onMessage(messaging, (payload) => {
        console.log("ğŸ“© Ø¥Ø´Ø¹Ø§Ø± ÙˆØ§Ø±Ø¯: ", payload);
        alert(`Ø¥Ø´Ø¹Ø§Ø± Ø¬Ø¯ÙŠØ¯: ${payload.notification.title}\n${payload.notification.body}`);
    });
</script>

<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background-color: #f8f9fa;
        padding: 20px;
    }
    .container {
        margin-top: 50px;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    }
    button {
        background: #007bff;
        color: white;
        border: none;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        border-radius: 5px;
        transition: 0.3s;
    }
    button:hover {
        background: #0056b3;
    }
</style>

</head>
<body>
    <div class="container">
        <h1>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ùƒ</h1>
        <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</p>
        <button id="notifyBtn">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</button>
        <p id="status"></p>
    </div>
</body>
</html>
